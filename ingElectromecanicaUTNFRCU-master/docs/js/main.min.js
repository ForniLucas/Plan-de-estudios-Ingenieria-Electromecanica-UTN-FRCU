(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-105524338-1', 'auto');
ga('send', 'pageview');
let materiasISI = JSON.parse(localStorage.getItem('materiasISI')) || [
  // Primer año
  // - Anual
  { id: '2', nombre: 'Ingenieria Electromecanica I',         horas: '3',  ano: '1', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: true,  electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  // - Primer cuatrimestre
  { id: '1', nombre: 'Análisis Matemático I',             horas: '10', ano: '1', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  { id: '3', nombre: 'Álgebra y Geometría Analítica',     horas: '10', ano: '1', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  { id: '4', nombre: 'Sistemas de Representación',        horas: '6',  ano: '1', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  // - Segundo cuatrimestre
  { id: '5', nombre: 'Química General',                   horas: '10', ano: '1', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  { id: '6', nombre: 'Fisica I',                          horas: '10', ano: '1', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  { id: '7', nombre: 'Ingenieria y sociedad',             horas: '4',  ano: '1', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },
  { id: '8', nombre: 'Representacion grafica',            horas: '6',  ano: '1', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [], necesitaAprobada: [] } },

  // Segundo año
  // - Anual
  { id: '10', nombre: 'Ingenieria electromecanica II',         horas: '3', ano: '2', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: true,  electiva: false, paraCursar: { necesitaRegular: ['1', '2', '3'],      necesitaAprobada: []} },
  { id: '9',  nombre: 'Estabilidad',                           horas: '6', ano: '2', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['1', '3', '6'],      necesitaAprobada: []} },
  { id: '13', nombre: 'Inglés I',                              horas: '2', ano: '2', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [],              necesitaAprobada: []} },
  // - Primer cuatrimestre
  { id: '11', nombre: 'Analisis Matematico II',                horas: '10', ano: '2', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['1', '3'],              necesitaAprobada: []} },
  { id: '12', nombre: 'Probabilidad y Estadistica',            horas: '6', ano: '2', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['1', '3'],      necesitaAprobada: []} },
  // - Segundo cuatrimestre
  { id: '14', nombre: 'Fisica II',                             horas: '10', ano: '2', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['1', '6'],      necesitaAprobada: []} },
  { id: '15', nombre: 'Conocimiento de materiales',            horas: '8', ano: '2', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['5'], necesitaAprobada: []} },
  { id: '16', nombre: 'Programacion en Computacion',           horas: '6', ano: '2', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['1', '3'], necesitaAprobada: []} },
  // Tercer año
  // - Anual
  { id: '18', nombre: 'Ingenieria electromecanica III',  horas: '3', ano: '3', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: true,  electiva: false, paraCursar: { necesitaRegular: ['10','11', '14'],       necesitaAprobada: ['1', '2', '3', '6']} },
  { id: '22', nombre: 'Inglés II',                       horas: '2', ano: '3', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [],                 necesitaAprobada: ['13']} },
  { id: '19', nombre: 'Electrotenia',                    horas: '6', ano: '3', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['11', '14'],              necesitaAprobada: ['1', '3', '6']} },
  { id: '20', nombre: 'Termodinamica tecnica',           horas: '4', ano: '3', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['14'],              necesitaAprobada: ['1', '6']} },
  // - Primer cuatrimestre
  { id: '17', nombre: 'Tecnologia mecanica',             horas: '10', ano: '3', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['14', '15'],        necesitaAprobada: ['1', '5', '6', '8']} },
  { id: '21', nombre: 'Matematica para ing. electromecanica', horas: '6', ano: '3', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['11'],             necesitaAprobada: ['1', '3']} },
  // - Segundo cuatrimestre
 
  { id: '23', nombre: 'Mecanica y mecanismos',           horas: '8', ano: '3', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['8','9', '11'],         necesitaAprobada: ['1', '2', '3', '6']} },
  { id: '24', nombre: 'Higiene y seguridad industrial',  horas: '4', ano: '3', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['14'],                 necesitaAprobada: ['1', '5', '6', '7']} },

  // Cuarto año
  // - Anual
  { id: '25', nombre: 'Elementos de maquinas',      horas: '6', ano: '4', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: true,  electiva: false, paraCursar: { necesitaRegular: ['17', '18', '23'], necesitaAprobada: ['9', '10', '11', '13', '14', '15', '16']} },
  { id: '26', nombre: 'Mecanica de los fluidos y maquinas fluidodinamicas', horas: '5', ano: '4', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false,  electiva: false, paraCursar: { necesitaRegular: ['20', '23'], necesitaAprobada: ['9', '11', '14', '16']} },
  { id: '27', nombre: 'Maquinas electricas',    horas: '5', ano: '4', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['19'],       necesitaAprobada: ['14']} },
  // { id: '47', nombre: 'Habilitación Profesional',   horas: '4', ano: '4', cuatrimestre: '0', esAnual: true,  estado: 'desaprobada', analista: true, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['17', '22', '20'], necesitaAprobada: ['9', '11', '12', '14', '15', '16']} },
  // - Primer cuatrimestre
  { id: '28', nombre: 'Mediciones electricas',      horas: '8', ano: '4', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['19', '21'],       necesitaAprobada: ['11', '14']} },
  { id: '29', nombre: 'Maquinas termicas',          horas: '10', ano: '4', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: [ '20'],       necesitaAprobada: ['14']} },
 
  // - Segundo cuatrimestre
  { id: '30', nombre: 'Electronica industrial',     horas: '6', ano: '4', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['19'], necesitaAprobada: ['14']} },
  { id: '31', nombre: 'Economia',                   horas: '6', ano: '4', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['10'], necesitaAprobada: ['7']} },
  { id: '32', nombre: 'Legislacion',                horas: '4', ano: '4', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['10'],        necesitaAprobada: ['7']} },
  { id: '33', nombre: 'Diseño y fabricacion asistido por computadora',      horas: '4', ano: '4', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true,  paraCursar: { necesitaRegular: ['15','17','23'],             necesitaAprobada: ['9','11','14']} },
  { id: '48', nombre: 'Ingenieria de superficies',      horas: '6', ano: '4', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true,  paraCursar: { necesitaRegular: [],             necesitaAprobada: ['6','14','15']} },

  // Quinto año
  // - Anual
  { id: '37', nombre: 'Proyecto Final',                                                      horas: '3', ano: '5', cuatrimestre: '0', esAnual: true, estado: 'desaprobada', analista: false, integradora: true, electiva: false,   paraCursar: { necesitaRegular: ['25', '26', '27', '29'], necesitaAprobada: ['17', '18', '19', '20', '21', '22', '23', '24']} },
  { id: '34', nombre: 'Redes de distribucion e instalaciones electricas',                    horas: '5', ano: '5', cuatrimestre: '0', esAnual: true, estado: 'desaprobada', analista: false, integradora: false, electiva: false,   paraCursar: { necesitaRegular: ['27', '28'], necesitaAprobada: ['19']} },
  // - Primer cuatrimestre
  { id: '35', nombre: 'Organizacion industrial',                                             horas: '6', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['31', '32'], necesitaAprobada: ['10', '12']} },
  { id: '36', nombre: 'Automatizacion y control industrial',                                 horas: '6', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false,  paraCursar: { necesitaRegular: ['21','26','27','28','30'], necesitaAprobada: ['19','20','23']} },
  { id: '38', nombre: 'Maquinas de elevacion y transporte',                                  horas: '8', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true,  paraCursar: { necesitaRegular: ['25', '26'], necesitaAprobada: ['17','18','20','23']} },
  { id: '39', nombre: 'Electronica de potencia',                                             horas: '4', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true,  paraCursar: { necesitaRegular: ['28','30'], necesitaAprobada: ['19','21']} },
  { id: '40', nombre: 'Introduccion al proyecto de instalaciones industriales',              horas: '6', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true,  paraCursar: { necesitaRegular: [], necesitaAprobada: ['19','20','21','23']} },
  { id: '46', nombre: 'Ambiental',                                                           horas: '4', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false,  paraCursar: { necesitaRegular: ['31', '32'], necesitaAprobada: ['24']} },
  { id: '99', nombre: 'Práctica Supervisada',                                                horas: '7', ano: '5', cuatrimestre: '1', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false,  paraCursar: { necesitaRegular: ['25', '26', '27', '29'], necesitaAprobada: ['17', '18', '19', '20', '21', '22', '23', '24']} },
  // - Segundo cuatrimestre
  { id: '41', nombre: 'Instalaciones termicas, mecanicas,y frigorificas', horas: '6', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false,  paraCursar: { necesitaRegular: ['26','29'], necesitaAprobada: ['20','23']} },
  { id: '42', nombre: 'Centrales y sistemas de transmision',         horas: '10', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: false, paraCursar: { necesitaRegular: ['26', '27','28','29'], necesitaAprobada: ['19', '20', '21', '23']} },
  { id: '43', nombre: 'Hidrodinamica y neumatica',                   horas: '4', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true, paraCursar: { necesitaRegular: ['26'], necesitaAprobada: ['20', '23']} },
  { id: '44', nombre: 'Automatismos',                                horas: '8', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true, paraCursar: { necesitaRegular: ['36','39'], necesitaAprobada: ['19','20','21','23']} },
  { id: '45', nombre: 'Instalaciones industriales regionales',       horas: '6', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true, paraCursar: { necesitaRegular: ['40'], necesitaAprobada: ['19','20','21','23']} },
  { id: '47', nombre: 'Emprendedorismo',                             horas: '4', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true, paraCursar: { necesitaRegular: ['35'], necesitaAprobada: ['31','32']} },
  { id: '49', nombre: 'Instroduccion a la investigacion cientifica', horas: '4', ano: '5', cuatrimestre: '2', esAnual: false, estado: 'desaprobada', analista: false, integradora: false, electiva: true, paraCursar: { necesitaRegular: ['10'], necesitaAprobada: ['7']} }
];

const store = new Vuex.Store({
  state: {
    materias: materiasISI
  },
  getters: {
    getMaterias: state => {
      return state.materias;
    },
    getMateriaById: (state, getters) => (id) => {
      return state.materias.find(materia => materia.id === id)
    },
    getMateriasAprobadas: state => {
      return state.materias.filter(materia => materia.estado === 'aprobada');
    },
    getMateriasRegulares: state => {
      return state.materias.filter(materia => materia.estado === 'regular');
    },
    getMateriasCursando: state => {
      return state.materias.filter(materia => materia.estado === 'cursando');
    },
    getMateriasAno: (state, getters) => (ano) => {
      return state.materias.filter(materia => materia.ano === ano)
    },
    getMateriasAnoAnuales: (state, getters) => (ano) => {
      return getters.getMateriasAno(ano).filter(materia => materia.esAnual)
    },
    getMateriasAnoCuatrimestre: (state, getters) => (ano, cuatrimestre) => {
      return getters.getMateriasAno(ano).filter(materia => materia.cuatrimestre === cuatrimestre)
    },
    getCantidadMaterias: state => {
      return state.materias.length;
    },
    getCantidadMateriasAprobadas: (state, getters) => {
      return getters.getMateriasAprobadas.length;
    },
    getMateriaCorrelativas: (state, getters) => (id) => {
      const materia = getters.getMateriaById(id);
      const regulares = materia.paraCursar.necesitaRegular.map(idMateria => getters.getMateriaById(idMateria));
      const aprobadas = materia.paraCursar.necesitaAprobada.map(idMateria => getters.getMateriaById(idMateria));
      return { regulares, aprobadas };
    },
    getMateriasElectivas: state => {
      return state.materias.filter(materia => materia.electiva);
    },
    getMateriasElectivasAprobadas: (state, getters) => {
      return getters.getMateriasElectivas.filter(materia => materia.estado === 'aprobada');
    },
    getMateriasObligatorias: state => {
      return state.materias.filter(materia => !materia.electiva);
    },
    getMateriasObligatoriasAprobadas: (state, getters) => {
      return getters.getMateriasObligatorias.filter(materia => materia.estado === 'aprobada');
    }
  },
  mutations: {
    cambiarEstadoMateria (state, payload) {
      state.materias.find(materia => materia.id === payload.id).estado = payload.estado;
      localStorage.setItem('materiasISI', JSON.stringify(materiasISI));
    },
    aprobarAno (state, payload) {
      for (var i = 0, len = payload.materias.length; i < len; i++) {
        payload.materias[i].estado = 'aprobada';
      }
    },
    desaprobarAno (state, payload) {
      for (var i = 0, len = payload.materias.length; i < len; i++) {
        payload.materias[i].estado = 'desaprobada';
      }
    }
  }
});

const Materia = {
  props: ['id', 'nombre', 'horas', 'integradora', 'electiva', 'analista'],
  template: '\
    <div :class="`materia materia--` + estado + (this.cursable ? ` materia--cursable` : ``)" @click="mostrarDependencias">\
      <div class="materia__detalles">\
        <span class="materia__descripcion">\
          {{ nombre }}\
          <em class="materia__tipo" v-if="integradora">Integradora</em>\
          <em class="materia__tipo" v-if="electiva">Electiva</em>\
        </span>\
        <span class="materia__horas">{{ horas }} hs.</span>\
      </div>\
      <div class="materia__condicion">\
        <input\
          class="materia__radio"\
          type="radio"\
          value="desaprobada"\
          v-model="estado"\
          :name="[`m-${ id }`]"\
          :id="[`m-${ id }-desaprobada`]"\
          :disabled="!cursable">\
        <label\
          class="materia__boton materia__boton--desaprobada"\
          :for="[`m-${ id }-desaprobada`]">D</label>\
        <input\
          class="materia__radio"\
          type="radio"\
          value="regular"\
          v-model="estado"\
          :name="[`m-${ id }`]"\
          :id="[`m-${ id }-regular`]"\
          :disabled="!cursable">\
        <label\
          class="materia__boton materia__boton--regular"\
          :for="[`m-${ id }-regular`]">R</label>\
        <input\
          class="materia__radio"\
          type="radio"\
          value="aprobada"\
          v-model="estado"\
          :name="[`m-${ id }`]"\
          :id="[`m-${ id }-aprobada`]"\
          :disabled="!cursable">\
        <label\
          class="materia__boton materia__boton--aprobada"\
          :for="[`m-${ id }-aprobada`]">A</label>\
        <input\
          class="materia__radio"\
          type="radio"\
          value="cursando"\
          v-model="estado"\
          :name="[`m-${ id }`]"\
          :id="[`m-${ id }-cursando`]"\
          :disabled="!cursable">\
        <label\
          class="materia__boton materia__boton--cursando"\
          :for="[`m-${ id }-cursando`]">C</label>\
      </div>\
    </div>',
  computed: {
    estado: {
      get: function () {
        return this.$store.getters.getMateriaById(this.id).estado;
      },
      set: function (valor) {
        store.commit('cambiarEstadoMateria', {
          id: this.id,
          estado: valor
        });
      }
    },
    cursable: {
      get: function () {            
        const materia = this.$store.getters.getMateriaById(this.id);
        const necesitaRegulares = materia.paraCursar.necesitaRegular;
        const necesitaAprobadas = materia.paraCursar.necesitaAprobada;
        const estanRegulares = this.$store.getters.getMateriasRegulares.map(m => m.id);
        const estanAprobadas = this.$store.getters.getMateriasAprobadas.map(m => m.id);
        const regularesYAprobadas = estanRegulares.concat(estanAprobadas);

        const sePuedeCursar = arrayContainsArray(regularesYAprobadas, necesitaRegulares)
            && arrayContainsArray(estanAprobadas, necesitaAprobadas);

        if (!sePuedeCursar) {
          store.commit('cambiarEstadoMateria', {
            id: materia.id,
            estado: 'desaprobada'
          });
        }

        return sePuedeCursar;
      }
    }
  },
  methods: {
    mostrarDependencias: function () {
      if (this.cursable) return;
      
      const correlativas = this.$store.getters.getMateriaCorrelativas(this.id);
      const elementoDependencias = document.querySelectorAll('.dependencias')[0];

      let textoRegulares = '';
      let textoAprobadas = '';

      if (correlativas.regulares.length > 0)
        correlativas.regulares.forEach(m => textoRegulares += `<li class="dependencias__item dependencias__item--${ m.estado }">${ m.nombre }</li>`)
      else
        textoRegulares = '<li class="dependencias__item--off">Ninguna.</li>';

      if (correlativas.aprobadas.length > 0)
        correlativas.aprobadas.forEach(m => textoAprobadas += `<li class="dependencias__item dependencias__item--${ m.estado }">${ m.nombre }</li>`)
      else
        textoAprobadas = '<li class="dependencias__item--off">Ninguna.</li>';

      elementoDependencias.innerHTML = `
        <h4 class="dependencias__titulo">Para cursar <span>${ this.nombre }</span> necesitás:</h5>
        <h5 class="dependencias__subtitulo dependencias__subtitulo--regular">Regular:</h5>
        <ul class="dependencias__lista">${ textoRegulares }</ul>
        <h5 class="dependencias__subtitulo dependencias__subtitulo--aprobadas">Aprobadas:</h5>
        <ul class="dependencias__lista">${ textoAprobadas }</ul>
        <p class="dependencias__pista">CLICK O TAP PARA CERRAR</p>`;

      elementoDependencias.classList.add('dependencias--visible');
    }
  }
};

const app = new Vue({
  el: '#app',
  store,
  components: { Materia },
  computed: {
    horasElectivasAprobadas: function () {
      const horasElectivas = this.$store.getters.getMateriasElectivasAprobadas.map(m => m.horas);
      return horasElectivas.reduce((a, b) => parseInt(a) + parseInt(b), 0);
    },
    horasSemanalesCursando: function () {
      const horasSemanales = this.$store.getters.getMateriasCursando.map(m => m.horas);
      return horasSemanales.reduce((a, b) => parseInt(a) + parseInt(b), 0);
    },
    cantidadMaterias: function () {
      return this.$store.getters.getCantidadMaterias;
    },
    cantidadMateriasAprobadas: function () {
      return this.$store.getters.getCantidadMateriasAprobadas;
    },
    progreso: function () {
      const horasObligatorias = this.$store.getters.getMateriasObligatorias.map(m => m.horas).reduce((a, b) => parseInt(a) + parseInt(b), 0);
      const horasObligatoriasAprobadas = this.$store.getters.getMateriasObligatoriasAprobadas.map(m => m.horas).reduce((a, b) => parseInt(a) + parseInt(b), 0);
      const horasElectivas = 44;
      const horasElectivasAprobadas = (this.horasElectivasAprobadas > horasElectivas ? 44 : this.horasElectivasAprobadas);
      const horasTotalesMinimas = horasObligatorias + horasElectivas;
      return ((horasObligatoriasAprobadas + horasElectivasAprobadas) / horasTotalesMinimas * 100).toFixed(2);
    },
    primerAnoAprobado: function () {
      return this.$store.getters.getMateriasAno('1').every(m => m.estado === 'aprobada');
    },
    segundoAnoAprobado: function () {
      return this.$store.getters.getMateriasAno('2').every(m => m.estado === 'aprobada');
    },
    tercerAnoAprobado: function () {
      return this.$store.getters.getMateriasAno('3').every(m => m.estado === 'aprobada');
    },
    cuartoAnoAprobado: function () {
      return this.$store.getters.getMateriasAno('4').every(m => m.estado === 'aprobada');
    },
    quintoAnoAprobado: function () {
      return this.$store.getters.getMateriasAno('5').every(m => m.estado === 'aprobada');
    }
  },
  methods: {
    aprobarAno: (ano) => {
      const materiasAno = store.getters.getMateriasAno(ano);
      const anoEstaAprobado = materiasAno.every(m => m.estado === 'aprobada');

      if (anoEstaAprobado)
        store.commit('desaprobarAno', { materias: materiasAno });        
      else
        store.commit('aprobarAno', { materias: materiasAno });
    },
    ocultarDependencias: () => {
      document.querySelectorAll('.dependencias')[0].classList.remove('dependencias--visible');
    }
  }
});


function arrayContainsArray (superset, subset) {
  return subset.every(function (value) {
    return (superset.indexOf(value) >= 0);
  });
}

const elementoInformacion = document.querySelectorAll('.informacion')[0];
const elementoInformacionCuerpo = elementoInformacion.querySelectorAll('.informacion__cuerpo')[0]
const elementoInformacionTitulo = elementoInformacion.querySelectorAll('.informacion__titulo span')[0]

elementoInformacion.addEventListener('click', () => {
  elementoInformacionCuerpo.classList.toggle('informacion__cuerpo--activo');

  elementoInformacionTitulo.textContent = elementoInformacionTitulo.textContent == '(+)' ? '(-)' : '(+)';
});


document.addEventListener("DOMContentLoaded", function(){
  document.body.lastChild.previousSibling.remove()
});